({58:function(){var t=(t,e,n)=>new Promise(((o,r)=>{var i=t=>{try{c(n.next(t))}catch(t){r(t)}},s=t=>{try{c(n.throw(t))}catch(t){r(t)}},c=t=>t.done?o(t.value):Promise.resolve(t.value).then(i,s);c((n=n.apply(t,e)).next())}));document.addEventListener("DOMContentLoaded",(()=>t(this,null,(function*(){class e extends Error{constructor(t){super(t),this.name="TooManyRequestsError"}}class n extends Error{constructor(t){super(t),this.name="MediaNotFound"}}let o=[];function r(t){return o[t]||t}const i=document.documentElement.lang||"en";yield function(e){return t(this,null,(function*(){o=yield function(t){if("en"!==t){const e=window.location.href.split("/");e.splice(3,1);const n=e.join("/");return fetch(`${n}/i18n/${t}.json`).then((t=>t.json())).catch((t=>console.error("Error loading i18n file:",t)))}return fetch(`i18n/${t}.json`).then((t=>t.json())).catch((t=>console.error("Error loading i18n file:",t)))}(e)}))}(i);function s(t,e){const n=document.getElementById("a_719");n.textContent=t,"error"===e?n.className="a_719 a_256":"info"===e&&(n.className="a_719 a_308"),document.getElementById("a_479").style.display="none",n.style.display="block"}document.getElementById("a_456").addEventListener("click",(function(){return t(this,null,(function*(){document.getElementById("a_479").style.display="flex",document.getElementById("a_408").style.display="none",document.getElementById("a_719").style.display="none";const o=document.getElementById("a_746").value.trim().split("?")[0];if(""===o)s(r("error__input"),"error");else try{const i=yield function(o){return t(this,null,(function*(){const i=yield function(e){return t(this,null,(function*(){function n(){const t=["SHA-256","124552WPeXhB","541842ztfTcF","76362VknGuG","padStart","encode","12aaenVG","456245EsIkdD","190468PCoMFP","join","reduce","2425878QWkPYj","3DrZmNV","toString","1881920KMBcCu","subtle","from","reverse","digest","390mcumJp","9VecZkR","split"];return(n=function(){return t})()}function o(t,e){const r=n();return(o=function(t,e){return r[t-=357]})(t,e)}function r(e){return t(this,null,(function*(){const t=o,n=(new TextEncoder)[t(363)](e),r=yield crypto[t(373)][t(376)](t(358),n);return Array[t(374)](new Uint8Array(r)).map((e=>e.toString(16)[t(362)](2,"0"))).join("")}))}return function(t,e){const n=o,r=t();for(;;)try{if(parseInt(n(360))/1+parseInt(n(366))/2+parseInt(n(370))/3*(parseInt(n(372))/4)+-parseInt(n(365))/5*(parseInt(n(364))/6)+-parseInt(n(369))/7+parseInt(n(359))/8*(-parseInt(n(378))/9)+-parseInt(n(377))/10*(parseInt(n(361))/11)==292197)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(n),function(e){return t(this,null,(function*(){const t=o,n=e,i=n.split("/").filter(Boolean).pop(),s=BigInt(i),c=[...i][t(368)](((t,e)=>t+parseInt(e)),0),l=s*BigInt(c),a=l[t(371)]()[t(357)]("")[t(375)]()[t(367)](""),d=l[t(371)]();return[[n,yield r(d)],a]}))}(e)}))}(o),s=yield function(o,i){return t(this,null,(function*(){try{const s=yield fetch("https://api-tools-twitter-media-downloader.ardenov.com/q",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(429===s.status)throw new e(r("exception__429"));const c=yield s.json();if(0===c.length)throw new n(r("exception__404"));const l=yield function(e,n){return t(this,null,(function*(){const o=e.replace(/-/g,"+").replace(/_/g,"/"),r=o.padEnd(o.length+o.length%4,"="),i=Uint8Array.from(atob(r),(t=>t.charCodeAt(0))),s=i.slice(0,16),c=i.slice(16,28),l=i.slice(28),a=yield function(e,n){return t(this,null,(function*(){const t=new TextEncoder,o=yield crypto.subtle.importKey("raw",t.encode(e),{name:"PBKDF2"},!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:n,iterations:1e5,hash:"SHA-256"},o,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}))}(n,s),d=yield crypto.subtle.decrypt({name:"AES-GCM",iv:c},a,l);return(new TextDecoder).decode(d)}))}(c[0],i);return JSON.parse(l)}catch(t){throw t}}))}(i[0],i[1]),c=[];let l=1;return s.forEach((t=>{const e=t.type,n=`${r("options__title")} ${l}`,o=t.photo,i=[];if("photo"!==e){const n=t.video,o=n.duration_millis;n.variants.forEach((t=>{if(t.bitrate){const e=Math.round(t.bitrate/8e3*(o/1e3)/1024*10)/10,n=t.url.split("/"),s=n[n.length-2],c={text:`${r("download__button_text")} ${s} ( â‰ˆ ${e} MB )`,href:t.url};i.push(c)}else if("animated_gif"===e){const e={text:`${r("download__button_text")} GIF`,href:t.url};i.push(e)}}))}else{const e={text:`${r("download__button_text")} ${r("options__title")}`,href:t.photo};i.push(e)}const s={title:n,thumbnail:o,options:i};c.push(s),l+=1})),c}))}(o);!function(t){const e=document.getElementById("a_408"),n=t;if(e.innerHTML="",0===n.length)return!1;n.forEach((t=>{const n=document.createElement("div");n.className="a_83";const o=document.createElement("img");o.src=t.thumbnail,o.alt=t.title;const r=document.createElement("h3");r.textContent=t.title;const i=document.createElement("div");i.className="a_107",t.options.forEach((t=>{const e=document.createElement("a");e.href=t.href,e.textContent=t.text,e.target="_blank",i.appendChild(e)})),n.appendChild(o),n.appendChild(r),n.appendChild(i),e.appendChild(n)})),document.getElementById("a_479").style.display="none",document.getElementById("a_408").style.display="flex"}(i)}catch(t){s(t instanceof e||t instanceof n?t.message:r("error__input"),"error")}}))}))}))))}})[58]();